# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
SELECT文で全件配列取得を実行しています。
具体的には下記のようなSQL文の実行であると考えられます。
`SELECT * FROM todos;`

### Todoモデルのallメソッドの返り値は何か
collectionクラスのインスタンスとして配列の値を返します。

### 配列の代わりにCollectionクラスを使用するメリットは
用意されている多様なメソッドを使用して、フィルタリングやソートなどの抽出を容易に活用できる点がメリットとなります。

### view関数の第1・第2引数の指定と何をしているか
第1・第2引数には下記を指定し、対象のBladeファイルに値を代入した変数を渡しています。
- 第1引数：表示したいBladeファイルのパス(`/`=`.`として表記)
- 第2引数：渡したいデータの連想配列(Blade内での変数名=>代入したい値)

### index.blade.phpの$todos・$todoに代入されているものは何か
- `$totos`にはTodoController.phpにて定義している、下記が代入されています。
`$todos = $todo->all();`
具体的には、`$todos`にはallメソッドを使用した全件配列をcollectionクラスのインスタンスが多次元配列として格納されています。

- `$todo`にはforeachで上記多次元配列を回した時の二次元配列のキーが格納されています。

## Todo作成機能

### Requestクラスのallメソッドは何をしているか
フォームから送信された入力値を連想配列として取得します。

### fillメソッドは何をしているか
取得した連想配列`$inputs`をtodoクラスでインスタンス化したtodosテーブルに一括代入する操作を行っています。

### $fillableは何のために設定しているか
意図したカラム(今回はcontent)以外のカラムをユーザー側で変更できないようにするためです。
これによりユーザー側で指定したカラム以外の値を変更できなくなります。

### saveメソッドで実行しているSQLは何か
オブジェクトの状態をDBに保存するINSERT文を実行しています。
具体的には下記のようなSQL文の実行であると考えられます。
`INSERT INTO todos (content) VALUES ("$content");`

### redirect()->route()は何をしているか
処理完了後にルート名を指定し、リダイレクト操作を行っています。

## その他

### テーブル構成をマイグレーションファイルで管理するメリット
コマンド実行で一律に同様のテーブルを作成することができるため、知識不要で開発者が同様のテーブルを作成・使用できるメリットがあります。

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
下記コマンドの実行で呼び出せます。
- up():`php artisan migrate`
- down()：`php artisan migrate:rollback`

### Seederクラスの役割は何か
一律に同様のテーブルデータを作成することができるため、テストや初期データを挿入する役割として使用できます。

### route関数の引数・返り値・使用するメリット
引数：ルートを定義した際のルート名`->name('ルート名')`
返り値：URL
使用するメリットは下記のとおりです。
- Bladeファイルの記述短縮による可読性の向上
- `web.php`に定義されているため、ルート名以外のURL変更の際に定義元のみ変更すればよく保守性が向上

### @extends・@section・@yieldの関係性とbladeを分割するメリット
各記述の関係性は下記の通りです。
- `@extends`:継承する親ファイルを指定(子ファイル)
- `@section`:囲われた部分を挿入する(子ファイル)
- `@yield`:挿入箇所の指定(親ファイル)

分割するメリットは下記の通りです。
- 複数ページで同一の記述が親ファイルにまとまるため保守性が高くなります。
- 子ファイルは記述が短縮できるため可読性も向上します。

### @csrfは何のための記述か
CSAF攻撃対策のためのチェックトークン機能を実装するための記述です。

### {{ }}とは何の省略系か
`<?php ?>`の省略形です。
